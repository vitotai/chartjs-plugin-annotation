/*!
 * chartjs-plugin-annotation.js
 * http://chartjs.org/
 * Version: 0.2.0
 *
 * Copyright 2016 Evert Timberg
 * Released under the MIT license
 * https://github.com/chartjs/Chart.Annotation.js/blob/master/LICENSE.md
 */
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(a,b,c){},{}],2:[function(l,m,n){m.exports=function(j){var k=j.Element.extend({draw:function(a){var b=this._view;a.lineWidth=b.borderWidth;a.strokeStyle=b.borderColor;a.fillStyle=b.backgroundColor;var c=b.right-b.left,height=b.bottom-b.top;a.fillRect(b.left,b.top,c,height);a.strokeRect(b.left,b.top,c,height)}});function isValid(a){return!isNaN(a)&&isFinite(a)}function boxUpdate(a,b,c){var d=a._model=a._model||{};var e=c.scales[b.xScaleID];var f=c.scales[b.yScaleID];var g=c.chartArea;var h=g.left,top=g.top,right=g.right,bottom=g.bottom;var i,max;if(e){i=isValid(b.xMin)?e.getPixelForValue(b.xMin):g.left;max=isValid(b.xMax)?e.getPixelForValue(b.xMax):g.right;h=Math.min(i,max);right=Math.max(i,max)}if(f){i=isValid(b.yMin)?f.getPixelForValue(b.yMin):g.bottom;max=isValid(b.yMax)?f.getPixelForValue(b.yMax):g.top;top=Math.min(i,max);bottom=Math.max(i,max)}d.left=h;d.top=top;d.right=right;d.bottom=bottom;d.borderColor=b.borderColor;d.borderWidth=b.borderWidth;d.backgroundColor=b.backgroundColor}return{Constructor:k,update:boxUpdate}}},{}],3:[function(j,k,l){var m=j('chart.js');m=typeof(m)==='function'?m:window.Chart;var n=m.helpers;var o=n.isArray;m.Annotation=m.Annotation||{};var p=m.Annotation.defaults={drawTime:"afterDraw",annotations:[]};var q=j('./line.js')(m);var r=j('./box.js')(m);var s=m.Annotation.annotationTypes={line:q.Constructor,box:r.Constructor};var t=m.Annotation.updateFunctions={line:q.update,box:r.update};var u=m.Annotation.drawTimeOptions={afterDraw:"afterDraw",afterDatasetsDraw:"afterDatasetsDraw",beforeDatasetsDraw:"beforeDatasetsDraw",};function drawAnnotations(b,c,d){var e=c.options.annotation;if(e.drawTime!=b){return}var f=c._annotationObjects;if(o(f)){var g=c.chart.ctx;f.forEach(function(a){a.transition(d).draw(g)})}}var v={beforeInit:function(c){var d=c.options;d.annotation=n.configMerge(m.Annotation.defaults,d.annotation);var e=d.annotation.annotations;if(o(e)){var f=c._annotationObjects=[];e.forEach(function(a,i){var b=s[a.type];if(b){f.push(new b({_index:i,opt:e[i],}))}})}},afterScaleUpdate:function(d){var e=d._annotationObjects;var f=d.options.annotation;var g=document.createElement("div");g.innerHTML="o";g.style.position='absolute';g.style.top='-9999px';g.style.left='-9999px';g.style.border='0px';g.style.margin='0px';g.style.padding='0px';g.style.font=d.chart.ctx.font;document.body.appendChild(g);var h=g.offsetHeight;document.body.removeChild(g);if(o(e)){if(e.length!=f.annotations.length){this.beforeInit(d);e=d._annotationObjects}e.forEach(function(a,i){a._fontHeight=h;var b=f.annotations[a._index];var c=t[b.type];if(c){c(a,b,d)}})}},afterDraw:function(a,b){drawAnnotations(m.Annotation.drawTimeOptions.afterDraw,a,b)},afterDatasetsDraw:function(a,b){drawAnnotations(m.Annotation.drawTimeOptions.afterDatasetsDraw,a,b)},beforeDatasetsDraw:function(a,b){drawAnnotations(m.Annotation.drawTimeOptions.beforeDatasetsDraw,a,b)}};k.exports=v;m.pluginService.register(v)},{"./box.js":2,"./line.js":4,"chart.js":1}],4:[function(m,n,o){n.exports=function(i){var j='horizontal';var k='vertical';var l=i.Element.extend({draw:function(a){var b=this._view;var c=this.opt;a.save();a.lineWidth=b.borderWidth;a.strokeStyle=b.borderColor;if(a.setLineDash){a.setLineDash(b.borderDash)}a.lineDashOffset=b.borderDashOffset;a.beginPath();a.moveTo(b.x1,b.y1);a.lineTo(b.x2,b.y2);a.stroke();if(c.label){var d=a.measureText(c.label.text).width;if(d==0)return;var e=this._fontHeight;var x=(b.x1+b.x2)/2;var y=(b.y1+b.y2)/2;var f=-e/2;if(c.label.align){if(c.mode==k){if(c.label.align=='top')y=b.y1+d/2;else if(c.label.align=='bottom')y=b.y2-d/2}else{if(c.label.align=='left')x=b.x1+d/2;else if(c.label.align=='right')x=b.x2-d/2}}if(c.label.anchor){if(c.label.anchor=='top')f=b.borderWidth;else if(c.label.anchor=='bottom')f=-e-b.borderWidth}a.translate(x,y);if(c.mode==k){a.rotate(-Math.PI/2)}if(c.label.bgColor){a.fillStyle=c.label.bgColor;a.fillRect(-d/2,f,d,e)}if(c.label.borderWidth){var w=c.label.borderWidth;a.fillStyle=b.borderColor;a.lineWidth=c.label.borderWidth;a.strokeRect(-d/2-w,f-w,d+w*2,e+w*2)}a.fillStyle=(c.label.color)?c.label.color:'black';a.textAlign='center';a.fillText(c.label.text,0,f)}a.restore()}});function isValid(a){return!isNaN(a)&&isFinite(a)}function lineUpdate(a,b,c){var d=a._model=a._model||{};var e=c.scales[b.scaleID];var f=e?e.getPixelForValue(b.value):NaN;var g=e&&isValid(b.endValue)?e.getPixelForValue(b.endValue):NaN;if(isNaN(g))g=f;var h=c.chartArea;if(!isNaN(f)){if(b.mode==j){d.x1=h.left;d.x2=h.right;d.y1=f;d.y2=g}else{d.y1=h.top;d.y2=h.bottom;d.x1=f;d.x2=g}}d.borderColor=b.borderColor;d.borderWidth=b.borderWidth;d.borderDash=b.borderDash||[];d.borderDashOffset=b.borderDashOffset||0}return{Constructor:l,update:lineUpdate}}},{}]},{},[3]);